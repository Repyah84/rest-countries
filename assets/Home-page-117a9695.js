import{j as s,L as N,r as _,u as h,a as y,s as j,b as x,c as S}from"./index-723b546c.js";import{C as p,a as w}from"./Country-description-items-6e4e5bf1.js";const b="_host_jpqum_1",D="_flag_jpqum_15",P="_main_jpqum_20",E="_name_jpqum_24",L="_info_jpqum_30",d={host:b,flag:D,main:P,name:E,info:L},k=({country:e})=>s.jsxs(N,{to:`/country/${e.name.official}`,className:d.host,children:[s.jsx("div",{children:s.jsx("img",{className:d.flag,src:e.flags.svg,width:"320",height:"160",alt:"Flag"})}),s.jsxs("div",{className:d.main,children:[s.jsx("div",{className:d.name,children:e.name.common}),s.jsxs("div",{className:d.info,children:[s.jsx(p,{title:"Population",children:e.population}),s.jsx(p,{title:"Region",children:e.region}),e.capital&&s.jsx(p,{title:"Capital",children:s.jsx(w,{value:e.capital})})]})]})]}),B="_host_19opg_1",F="_select_19opg_21",q="_value_19opg_28",R="_placeholder_19opg_34",O="_options_19opg_39",$="_option_19opg_39",r={host:B,select:F,value:q,placeholder:R,options:O,"show-options":"_show-options_19opg_1",option:$},A=({value:e,placeholder:o,options:a,selectFn:i})=>{const[t,u]=_.useState(!1),c=()=>{u(!1)};_.useEffect(()=>(window.document.addEventListener("click",c),()=>{window.document.removeEventListener("click",c)}),[]);const l=n=>{n.stopPropagation(),u(!t)},g=a.map(n=>s.jsxs("div",{onClick:()=>i([n.value]),className:r.option,children:[s.jsx("span",{children:n.title}),e.includes(n.value)&&s.jsx("span",{className:"material-symbols-outlined",children:"done"})]},n.value));return s.jsxs("button",{className:r.host,onClick:n=>l(n),children:[s.jsxs("div",{className:r.select,children:[s.jsxs("div",{className:r.value,children:[s.jsx("span",{className:r.placeholder,children:o}),s.jsx("span",{children:e.map((n,C)=>s.jsx("span",{children:n},C))})]}),s.jsx("span",{className:"material-symbols-outlined",children:"expand_more"})]}),t&&s.jsx("div",{className:r.options,children:g})]})},H="_host_1efff_1",I="_resetButton_1efff_7",V="_filter_1efff_13",m={host:H,resetButton:I,filter:V},M="_host_30sm0_1",T="_input_30sm0_16",f={host:M,input:T},z=({value:e,placeholder:o,searchFn:a})=>s.jsxs("label",{className:f.host,children:[s.jsx("span",{className:"material-symbols-outlined",children:"search"}),s.jsx("input",{type:"text",placeholder:o,className:f.input,value:e,onChange:i=>a(i.target.value)})]}),G=()=>{const e=h(({filter:{value:l}})=>l),o=h(({search:{value:l}})=>l),a=y(),i=l=>{a(j(l))},t=l=>{a(x(l))},u=()=>{a(j(["all"])),a(x(""))},c=[{title:"All",value:"all"},{title:"Africa",value:"africa"},{title:"Asia",value:"asia"},{title:"Europe",value:"europe"},{title:"Oceania",value:"oceania"}];return s.jsxs("div",{className:m.host,children:[s.jsx("div",{children:s.jsx("button",{className:m.resetButton,onClick:u,children:"RESET"})}),s.jsxs("div",{className:m.filter,children:[s.jsx(z,{placeholder:"Search Country",value:o,searchFn:t}),s.jsx(A,{placeholder:"Filter by Region",value:e,options:c,selectFn:i})]})]})},J="_list_pao4b_1",K="_countryDataPanel_pao4b_7",v={list:J,countryDataPanel:K},W=()=>{const e=S(),o=h(({filter:{value:t}})=>t),a=h(({search:{value:t}})=>t),i=_.useMemo(()=>{const t=o.includes("all")?e:e.filter(({region:c})=>o.includes(c.toLowerCase()));return a===""?t:t.filter(({name:{common:c}})=>c.toLowerCase().includes(a.toLowerCase()))},[e,o,a]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:v.countryDataPanel,children:s.jsx(G,{})}),s.jsx("div",{className:v.list,children:i.map(t=>s.jsx(k,{country:t},t.name.official))})]})};export{W as HomePage};
